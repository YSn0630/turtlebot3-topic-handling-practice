# LiDAR + YOLO turtlebot3 Automatic-Driving (without Nav2)

## 단순 주행 노드

### 주요 기능
1. FSM 모드 분할과 좌우 유효거리를 고려한 전방 장애물 회피
2. YOLO 8n 특정 객체 탐지 시 비상 정지 발행

FSM 모드 분할법을 처음 알게 된 계기의 개인 실습 프로젝트


폐기된 과거 고안의 경우,

### 1. 로직 1안
 - 전방(60도) 평균 거리 검사 -> 안전거리일 경우 전진
 - 안전거리가 아닐 경우, 우측 양호 -> 우회전
 - " 좌측 양호 -> 좌회전
### 시뮬레이션 결과 개인 피드백
 - 조건문이 우측부터 검사하여, 양측이 개방된 환경에서 무조건적으로 우회전을 시도하였다.
 - 전방 시야각이 넓어 전방 우현 장애물에도 우회전을 시도하였다. (비효율적 회전)
 - 기둥의 경우 시야각 평균으로 인해 안전거리로 판정되어 충돌 위험이 다분하였다.

### 2. "로직 2안"
 - 전방은 동일하게 처리
 - 우측 검사 후, and 구문으로 좌/우의 거리를 결정하였다. -> 두 조건 모두 만족할 경우 우회전
 - 좌측도 동일하게 처리 -> True 시 좌회전
 - 예외 구문으로 후진을 배정하였다.
### 시뮬레이션 결과 개인 피드백
- 우회전 우선 문제가 해소되었다. 로봇이 이제 주변 환경에 따라 주행 가능성이 더 높은 방향으로 회전하였다.
- 단, 기둥을 맞닥뜨리자 오류가 발생하였다. 장애물 회피 행동 중에도 계속 전진 명령이 수행되어 우왕좌왕하였다.
- 후진은 탈출구가 될 수 없었다. 후진 이후, 안전거리가 확보되면 다시 전진하였기에 루프에서 탈출하지 못했다.

### 3. "로직 3안"
 - 회전 동작 중에는 토픽 메세지 발행을 중단하였다. -> 회피 로직에 접어든 후, 타임슬립을 걸었다.
 - 기존 예외 구문에 있던 후진의 경우, 정지 후 180도 유턴으로 동작을 교체하였다.
 
- 3안의 수행 과정에서, 토픽을 끊을 방법을 모색하던 도중, FSM 구조를 알게 되었고 이를 통해 주행 회피 문제를 해결하였다.
